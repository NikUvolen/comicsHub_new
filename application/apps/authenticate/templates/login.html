{% extends 'base.html' %}
{% load static %}


{% block title %}Login :: {{ block.super }} {% endblock %}



{% block content %}

    <div class="form-panel">
        <div class="form-panel__inner">
            <div class="switch-forms">
                <button type="button" class="switch_btn switch_btn-active" onclick="window.location.href = '{% url 'login' %}';">Sign in</button>
                <button type="button" class="switch_btn" onclick="window.location.href = '{% url 'registration' %}';">Register</button>
            </div>

            <div class="form">
                <div class="form-content">

                        <!-- register form -->
                    
                        {% comment %} <form id="register-form" action="" method="POST" class="form form-register">
                            {% csrf_token %}
                            <div class="form-group">
                                <label for="">Username<span class="req">*</span></label>
                                {{ registration_form.username }}
                            </div>
                            <div class="form-group">
                                <label for="">Email<span class="req">*</span></label>
                                {{ registration_form.email }}
                            </div>
                            <div class="form-group">
                                <label for="">Password<span class="req">*</span></label>
                                {{ registration_form.password1 }}
                            </div>
                            <div class="form-group">
                                <label for="">Password confirmation<span class="req">*</span></label>
                                {{ registration_form.password2 }}
                            </div>
                            <button class="form-button" type="submit" name="submit" value="registration">Register</button>
                        </form> {% endcomment %}
                        
                        <!-- sign in form -->

                        <form id="signin-form" action="" method="POST" class="form form-sign_in" value="sign_in">
                            {% csrf_token %}
                            <div class="form-group">
                                <label for="" class="label-form">Username<span class="req">*</span></label>
                                {{ form.username }}
                            </div>
                            <div class="form-group">
                                <label for="" class="label-form">Password<span class="req">*</span></label>
                                {{ form.password }}
                            </div>
                            <button class="form-button" type="submit" name="submit" value="sign_in">Sign in</button>
                        </form>
                </div>
            </div>
        </div>

        {% if sign_in_form.errors.items %}
        <div class="form-error__panel active">
            {% if form.non_field_errors %}
				{% for error in form.non_field_errors %}
					<span class="error-message">- {{ error }}</span>
				{% endfor %}
		    {% endif %}
        
            {% for key, value in sign_in_form.errors.items %}
                {{ value }}
            {% endfor %}
        </div>
        {% endif %}
    </div>

{% endblock content %}

{% block scripts %}
    <script src="{% static 'authenticate/js/forms.js' %}"></script>
{% endblock scripts %}
